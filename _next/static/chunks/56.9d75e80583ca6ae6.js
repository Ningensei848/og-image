"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[56],{56:function(a,b,c){c.r(b),c.d(b,{"default":function(){return C}});var d=c(5893),e=c(7294),f=c(8100),g=function(a){return fetch(a).then(function(a){return a.ok&&200===a.status})},h=function(a){var b=(0,f.ZP)(a,g,{refreshInterval:2000}),c=b.data,d=b.error;return{isLoading:!d&&!c,isError:d}},i=function(){return(0,d.jsx)("div",{children:"loading..."})},j=function(){return(0,d.jsx)("div",{children:"failed to load"})},k=function(a){var b=a.src,c=a.setToast,e=a.onClick,f=h(b),g=f.isLoading,k=f.isError;return g?(0,d.jsx)(i,{}):k?(c({show:!0,message:"Oops, an error occurred"}),(0,d.jsx)(j,{})):(0,d.jsx)("a",{className:"image-wrapper",href:b,onClick:e,children:(0,d.jsx)("img",{id:"og-image",src:b,alt:"Preview of the generated img",title:"Click to copy image URL to clipboard"})})},l=function(a){var b=a.show,c=a.message;return(0,d.jsx)("div",{className:"toast-area",children:(0,d.jsx)("div",{className:"toast-outer",style:{transform:b?"translate3d(0,-0px,-0px) scale(1)":""},children:(0,d.jsx)("div",{className:"toast-inner",children:(0,d.jsx)("div",{className:"toast-message",children:c})})})})},m=function(a){var b=a.label,c=a.input;return(0,d.jsx)("div",{className:"field",children:(0,d.jsxs)("label",{children:[(0,d.jsx)("div",{className:"field-label",children:b}),(0,d.jsx)("div",{className:"field-value",children:c})]})})},n=function(a){var b=a.options,c=a.value,e=a.onChange,f=a.small;return(0,d.jsxs)("div",{className:f?"select-wrapper small":"select-wrapper",children:[(0,d.jsx)("select",{value:c,onChange:function(a){return e(a.target.value)},children:b.map(function(a,b){return(0,d.jsx)("option",{value:a.value,children:a.text},"".concat(b,"-").concat(a.value))})}),(0,d.jsx)("div",{className:f?"select-arrow small":"select-arrow",children:"â–¼"})]})},o=function(a){var b=a.type,c=a.value,e=a.onInput;return(0,d.jsx)("div",{className:"input-outer-wrapper",children:(0,d.jsx)("div",{className:"input-inner-wrapper",children:(0,d.jsx)("input",{type:void 0===b?"text":b,value:c,onInput:function(a){return e(a.target.value)}})})})},p=[{text:"Light",value:"light"},{text:"Dark",value:"dark"}],q=[{text:"PNG",value:"png"},{text:"JPEG",value:"jpeg"}],r=/https:\/\/assets\.vercel\.com\/image\/upload\/front\/assets\/design\/vercel-triangle-(white|black)\.svg/i,s=function(a){var b=a.theme,c=a.setTheme,e=a.logo,f=a.setLogo;return(0,d.jsx)(m,{label:"Theme",input:(0,d.jsx)(n,{options:p,value:b,onChange:function(a){c(a),r.test(e)&&f("https://assets.vercel.com/image/upload/front/assets/design/vercel-triangle-".concat("dark"===a?"white":"black",".svg"))}})})},t=function(a){var b=a.fileType,c=a.setFileType;return(0,d.jsx)(m,{label:"File Type",input:(0,d.jsx)(n,{options:q,value:b,onChange:function(a){return c(a)}})})},u=function(a){var b=a.type,c=a.label,f=a.state,g=a.setState,h=(0,e.useState)(f),i=h[0],j=h[1];return(0,e.useEffect)(function(){var a=setTimeout(function(){console.log("onInput "+i),g(i)},650);return function(){return clearTimeout(a)}},[i]),(0,d.jsx)(m,{label:c,input:(0,d.jsx)(o,{type:b,value:i,onInput:function(a){j(a)}})})},v=c(1163),w=c(7563),x=function(){var a=(0,v.useRouter)().asPath,b=new URLSearchParams(a.replace(/^.*?\?/,"")),c=(0,w.parse)(b.toString()||""),d=(0,e.useState)(c.fileType||"png"),f=d[0],g=d[1],h=(0,e.useState)(c.theme||"light"),i=h[0],j=h[1],k=(0,e.useState)(c.timestamp||new Date().toUTCString().split(/\s/).slice(2,4).join(".")),l=k[0],m=k[1],n=(0,e.useState)(c.title||"**Hello** World"),o=n[0],p=n[1],q=(0,e.useState)(c.tags||[]),r=q[0],s=q[1],t=(0,e.useState)(c.copyright||""),u=t[0],x=t[1],y=(0,e.useState)(c.logo||"https://assets.vercel.com/image/upload/front/assets/design/vercel-triangle-black.svg"),z=y[0],A=y[1],B=(0,e.useState)(c.avater||""),C=B[0],D=B[1],E=(0,e.useState)(c.author||""),F=E[0],G=E[1],H=(0,e.useState)(c.aka||""),I=H[0],J=H[1],K=(0,e.useState)(c.site||""),L=K[0],M=K[1];return{fileType:f,setFileType:g,theme:i,setTheme:j,timestamp:l,setTimestamp:m,title:o,setTitle:p,tags:r,setTags:s,copyright:u,setCopyright:x,logo:z,setLogo:A,avater:C,setAvater:D,author:F,setAuthor:G,aka:I,setAka:J,site:L,setSite:M}},y=c(3454);function z(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var A=function(a){var b=a.setState,c=x(),f=c.fileType,g=c.setFileType,h=c.theme,i=c.setTheme,j=c.timestamp,k=c.setTimestamp,l=c.title,m=c.setTitle,n=c.logo,o=c.setLogo,p=c.aka,q=c.setAka,r=c.site,v=c.setSite;return(0,e.useEffect)(function(){var a=new URLSearchParams({theme:h,timestamp:j,title:l,logo:n,aka:p,site:r}),c=new URL(y.env.NEXT_PUBLIC_API_HOST?"https://".concat(y.env.NEXT_PUBLIC_API_HOST):window.location.origin),d=(y.env.NEXT_PUBLIC_API_PREFIX||"api").replace(/^\//,"").replace(/\/$/,"");c.pathname="/".concat(d,"/").concat(encodeURIComponent(l),".").concat(f),c.search=a.toString(),b(c.href)},[p,f,n,r,h,j,l]),(0,d.jsx)("div",{className:"pull-left",children:(0,d.jsxs)("div",{children:[(0,d.jsx)(s,{theme:h,setTheme:i,logo:n,setLogo:o}),(0,d.jsx)(t,{fileType:f,setFileType:g}),(0,d.jsx)(u,{state:j,setState:k,label:"Timestamp"}),(0,d.jsx)(u,{state:l,setState:m,label:"Title"}),(0,d.jsx)(u,{state:n,setState:o,label:"Logo",type:"url"}),(0,d.jsx)(u,{state:p,setState:q,label:"Alt name"}),(0,d.jsx)(u,{state:r,setState:v,label:"Site name"})]})})},B=function(a){var b=a.src,c=a.setToast;return(0,d.jsx)("div",{className:"pull-right",children:(0,d.jsx)(k,{src:b,setToast:c,onClick:function(a){a.preventDefault(),navigator.clipboard.writeText(b).then(function(){c({show:!0,message:"Copied image URL to clipboard"}),setTimeout(function(){return c({show:!1,message:""})},3000),console.log("Async: Copying to clipboard was successful!")},function(a){window.open(b,"_blank"),console.error("Async: Could not copy text: ",a)})}})})},C=function(){var a=(0,e.useState)({show:!1,message:""}),b=a[0],c=a[1],f=(0,e.useState)(""),g=f[0],h=f[1];return(0,d.jsxs)("div",{className:"split",children:[(0,d.jsx)(A,{setState:h}),(0,d.jsx)(B,{src:g,setToast:c}),(0,d.jsx)(l,function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){z(a,b,c[b])})}return a}({},b))]})}}}])