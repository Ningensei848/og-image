"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[56],{56:function(a,b,c){c.r(b),c.d(b,{"default":function(){return D}});var d=c(5893),e=c(7294),f=c(1752),g=c(1163),h=c(7563),i=function(){var a=(0,g.useRouter)().asPath,b=new URLSearchParams(a.replace(/^.*?\?/,"")),c=(0,h.parse)(b.toString()||""),d=(0,e.useState)(c.fileType||"png"),f=d[0],i=d[1],j=(0,e.useState)(c.theme||"light"),k=j[0],l=j[1],m=(0,e.useState)(c.timestamp||new Date().toUTCString().split(/\s/).slice(2,4).join(".")),n=m[0],o=m[1],p=(0,e.useState)(c.title||"**Hello** World"),q=p[0],r=p[1],s=(0,e.useState)(c.tags||[]),t=s[0],u=s[1],v=(0,e.useState)(c.copyright||""),w=v[0],x=v[1],y=(0,e.useState)(c.logo||"https://assets.vercel.com/image/upload/front/assets/design/vercel-triangle-".concat("light"===k?"black":"white",".svg")),z=y[0],A=y[1],B=(0,e.useState)(c.avater||""),C=B[0],D=B[1],E=(0,e.useState)(c.author||""),F=E[0],G=E[1],H=(0,e.useState)(c.aka||""),I=H[0],J=H[1],K=(0,e.useState)(c.site||""),L=K[0],M=K[1];return{fileType:f,setFileType:i,theme:k,setTheme:l,timestamp:n,setTimestamp:o,title:q,setTitle:r,tags:t,setTags:u,copyright:w,setCopyright:x,logo:z,setLogo:A,avater:C,setAvater:D,author:F,setAuthor:G,aka:I,setAka:J,site:L,setSite:M}},j=c(8100),k=function(a){return fetch(a,{mode:"cors",redirect:"follow"}).then(function(a){return a.ok&&200===a.status})},l=function(a){var b=(0,j.ZP)(a,k,{refreshInterval:2000}),c=b.data,d=b.error;return{isLoading:!d&&!c,isError:d}},m=function(){return(0,d.jsx)("div",{className:"loader-wrap",style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",background:"lightgray"},children:(0,d.jsx)("div",{className:"loader"})})},n=function(){return(0,d.jsx)("div",{children:(0,d.jsx)("p",{children:"failed to load"})})},o=function(a){var b=a.src,c=a.setToast,e=a.onClick,f=l(b),g=f.isLoading,h=f.isError;return g?(0,d.jsx)(m,{}):h?(c({show:!0,message:"Oops, an error occurred"}),(0,d.jsx)(n,{})):(0,d.jsx)("a",{className:"image-wrapper",href:b,onClick:e,children:(0,d.jsx)("img",{id:"og-image",src:b,alt:"Preview of the generated img",title:"Click to copy image URL to clipboard"})})},p=function(a){var b=a.show,c=a.message;return(0,d.jsx)("div",{className:"toast-area",children:(0,d.jsx)("div",{className:"toast-outer",style:{transform:b?"translate3d(0,-0px,-0px) scale(1)":""},children:(0,d.jsx)("div",{className:"toast-inner",children:(0,d.jsx)("div",{className:"toast-message",children:c})})})})},q=function(a){var b=a.label,c=a.input;return(0,d.jsx)("div",{className:"field",children:(0,d.jsxs)("label",{children:[(0,d.jsx)("div",{className:"field-label",children:b}),(0,d.jsx)("div",{className:"field-value",children:c})]})})},r=function(a){var b=a.options,c=a.value,e=a.onChange,f=a.small;return(0,d.jsxs)("div",{className:f?"select-wrapper small":"select-wrapper",children:[(0,d.jsx)("select",{value:c,onChange:function(a){return e(a.target.value)},children:b.map(function(a,b){return(0,d.jsx)("option",{value:a.value,children:a.text},"".concat(b,"-").concat(a.value))})}),(0,d.jsx)("div",{className:f?"select-arrow small":"select-arrow",children:"â–¼"})]})},s=function(a){var b=a.type,c=a.value,e=a.onInput;return(0,d.jsx)("div",{className:"input-outer-wrapper",children:(0,d.jsx)("div",{className:"input-inner-wrapper",children:(0,d.jsx)("input",{type:void 0===b?"text":b,value:c,onInput:function(a){return e(a.target.value)}})})})},t=[{text:"Light",value:"light"},{text:"Dark",value:"dark"}],u=[{text:"PNG",value:"png"},{text:"JPEG",value:"jpeg"}],v=/https:\/\/assets\.vercel\.com\/image\/upload\/front\/assets\/design\/vercel-triangle-(white|black)\.svg/i,w=function(a){var b=a.theme,c=a.setTheme,e=a.logo,f=a.setLogo;return(0,d.jsx)(q,{label:"Theme",input:(0,d.jsx)(r,{options:t,value:b,onChange:function(a){c(a),v.test(e)&&f("https://assets.vercel.com/image/upload/front/assets/design/vercel-triangle-".concat("dark"===a?"white":"black",".svg"))}})})},x=function(a){var b=a.fileType,c=a.setFileType;return(0,d.jsx)(q,{label:"File Type",input:(0,d.jsx)(r,{options:u,value:b,onChange:function(a){return c(a)}})})},y=function(a){var b=a.type,c=a.label,f=a.state,g=a.setState,h=(0,e.useState)(f),i=h[0],j=h[1];return(0,e.useEffect)(function(){var a=setTimeout(function(){console.log("onInput "+i),g(i)},650);return function(){return clearTimeout(a)}},[i]),(0,d.jsx)(q,{label:c,input:(0,d.jsx)(s,{type:b,value:i,onInput:function(a){j(a)}})})};function z(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var A=(0,f.default)().publicRuntimeConfig,B=function(a){var b=a.setState,c=i(),f=c.fileType,g=c.setFileType,h=c.theme,j=c.setTheme,k=c.timestamp,l=c.setTimestamp,m=c.title,n=c.setTitle,o=c.logo,p=c.setLogo,q=c.aka,r=c.setAka,s=c.site,t=c.setSite;return(0,e.useEffect)(function(){var a=new URLSearchParams({theme:h,timestamp:k,title:m,logo:o,aka:q,site:s}),c=new URL("".concat(window.location.protocol,"//").concat("custom-og-image-generator.vercel.app")),d=(A.basePath||"").replace(/^\//,"").replace(/\/$/,""),e=d?"".concat(d,"/api"):"api";c.pathname="/".concat(e,"/").concat(encodeURIComponent(m),".").concat(f),a.delete("title"),c.search=a.toString(),console.log("url is set ".concat(c.href)),b(c.href)},[q,f,o,s,h,k,m]),(0,d.jsx)("div",{className:"pull-left",children:(0,d.jsxs)("div",{children:[(0,d.jsx)(w,{theme:h,setTheme:j,logo:o,setLogo:p}),(0,d.jsx)(x,{fileType:f,setFileType:g}),(0,d.jsx)(y,{state:k,setState:l,label:"Timestamp"}),(0,d.jsx)(y,{state:m,setState:n,label:"Title"}),(0,d.jsx)(y,{state:o,setState:p,label:"Logo",type:"url"}),(0,d.jsx)(y,{state:q,setState:r,label:"Alt name"}),(0,d.jsx)(y,{state:s,setState:t,label:"Site name"})]})})},C=function(a){var b=a.src,c=a.setToast;return(0,d.jsx)("div",{className:"pull-right",children:(0,d.jsx)(o,{src:b,setToast:c,onClick:function(a){a.preventDefault(),navigator.clipboard.writeText(b).then(function(){c({show:!0,message:"Copied image URL to clipboard"}),setTimeout(function(){return c({show:!1,message:""})},3000),console.log("Async: Copying to clipboard was successful!")},function(a){window.open(b,"_blank"),console.error("Async: Could not copy text: ",a)})}})})},D=function(a){var b=a.source,c=a.setSource,f=(0,e.useState)({show:!1,message:""}),g=f[0],h=f[1];return(0,d.jsxs)("div",{className:"split",children:[(0,d.jsx)(B,{setState:c}),(0,d.jsx)(C,{src:b,setToast:h}),(0,d.jsx)(p,function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){z(a,b,c[b])})}return a}({},g))]})}}}])